
<!DOCTYPE html>


<html lang="en" data-content_root="../" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>Documentation &#8212; pycse - Python Computations in Science and Engineering</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="../_static/styles/theme.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
<link href="../_static/styles/bootstrap.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
<link href="../_static/styles/pydata-sphinx-theme.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />

  
  <link href="../_static/vendor/fontawesome/6.5.2/css/all.min.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
  <link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.5.2/webfonts/fa-solid-900.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.5.2/webfonts/fa-brands-400.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.5.2/webfonts/fa-regular-400.woff2" />

    <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=03e43079" />
    <link rel="stylesheet" type="text/css" href="../_static/styles/sphinx-book-theme.css?v=eba8b062" />
    <link rel="stylesheet" type="text/css" href="../_static/togglebutton.css?v=13237357" />
    <link rel="stylesheet" type="text/css" href="../_static/copybutton.css?v=76b2166b" />
    <link rel="stylesheet" type="text/css" href="../_static/mystnb.8ecb98da25f57f5357bf6f572d296f466b2cfe2517ffebfabe82451661e28f02.css" />
    <link rel="stylesheet" type="text/css" href="../_static/sphinx-thebe.css?v=4fa983c6" />
    <link rel="stylesheet" type="text/css" href="../_static/sphinx-design.min.css?v=95c83b7e" />
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../_static/scripts/bootstrap.js?digest=dfe6caa3a7d634c4db9b" />
<link rel="preload" as="script" href="../_static/scripts/pydata-sphinx-theme.js?digest=dfe6caa3a7d634c4db9b" />
  <script src="../_static/vendor/fontawesome/6.5.2/js/all.min.js?digest=dfe6caa3a7d634c4db9b"></script>

    <script src="../_static/documentation_options.js?v=9eb32ce0"></script>
    <script src="../_static/doctools.js?v=9a2dae69"></script>
    <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../_static/clipboard.min.js?v=a7894cd8"></script>
    <script src="../_static/copybutton.js?v=f281be69"></script>
    <script src="../_static/scripts/sphinx-book-theme.js?v=887ef09a"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="../_static/togglebutton.js?v=4a39c7ea"></script>
    <script async="async" kind="hypothesis" src="https://hypothes.is/embed.js"></script>
    <script kind="utterances">

    var commentsRunWhenDOMLoaded = cb => {
    if (document.readyState != 'loading') {
        cb()
    } else if (document.addEventListener) {
        document.addEventListener('DOMContentLoaded', cb)
    } else {
        document.attachEvent('onreadystatechange', function() {
        if (document.readyState == 'complete') cb()
        })
    }
}

var addUtterances = () => {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src = "https://utteranc.es/client.js";
    script.async = "async";

    script.setAttribute("repo", "jkitchin/dsmles");
    script.setAttribute("issue-term", "pathname");
    script.setAttribute("theme", "github-light");
    script.setAttribute("label", "💬 comment");
    script.setAttribute("crossorigin", "anonymous");

    sections = document.querySelectorAll("div.section");
    if (sections !== null) {
        section = sections[sections.length-1];
        section.appendChild(script);
    }
}
commentsRunWhenDOMLoaded(addUtterances);
</script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script src="../_static/design-tabs.js?v=f930bc37"></script>
    <script async="async" src="https://www.googletagmanager.com/gtag/js?id=G-4H7VFJKEZY"></script>
    <script>
                window.dataLayer = window.dataLayer || [];
                function gtag(){ dataLayer.push(arguments); }
                gtag('js', new Date());
                gtag('config', 'G-4H7VFJKEZY');
            </script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"; const thebe_selector = ".thebe,.cell"; const thebe_selector_input = "pre"; const thebe_selector_output = ".output, .cell_output"</script>
    <script async="async" src="../_static/sphinx-thebe.js?v=c100c467"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script>
                window.dataLayer = window.dataLayer || [];
                function gtag(){ dataLayer.push(arguments); }
                gtag('js', new Date());
                gtag('config', 'G-4H7VFJKEZY');
            </script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"; const thebe_selector = ".thebe,.cell"; const thebe_selector_input = "pre"; const thebe_selector_output = ".output, .cell_output"</script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'docs/pycse';</script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="pycse - Beginner mode" href="beginner.html" />
    <link rel="prev" title="Running pycse" href="running-pycse.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <div id="pst-skip-link" class="skip-link d-print-none"><a href="#main-content">Skip to main content</a></div>
  
  <div id="pst-scroll-pixel-helper"></div>
  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>Back to top</button>

  
  <input type="checkbox"
          class="sidebar-toggle"
          id="pst-primary-sidebar-checkbox"/>
  <label class="overlay overlay-primary" for="pst-primary-sidebar-checkbox"></label>
  
  <input type="checkbox"
          class="sidebar-toggle"
          id="pst-secondary-sidebar-checkbox"/>
  <label class="overlay overlay-secondary" for="pst-secondary-sidebar-checkbox"></label>
  
  <div class="search-button__wrapper">
    <div class="search-button__overlay"></div>
    <div class="search-button__search-container">
<form class="bd-search d-flex align-items-center"
      action="../search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         id="search-input"
         placeholder="Search this book..."
         aria-label="Search this book..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form></div>
  </div>

  <div class="pst-async-banner-revealer d-none">
  <aside id="bd-header-version-warning" class="d-none d-print-none" aria-label="Version warning"></aside>
</div>

  
    <header class="bd-header navbar navbar-expand-lg bd-navbar d-print-none">
    </header>
  

  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      
      
      <div class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
    
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">

  
    
  

<a class="navbar-brand logo" href="../intro.html">
  
  
  
  
  
    
    
      
    
    
    <img src="../_static/pycse.png" class="logo__image only-light" alt="pycse - Python Computations in Science and Engineering - Home"/>
    <script>document.write(`<img src="../_static/pycse.png" class="logo__image only-dark" alt="pycse - Python Computations in Science and Engineering - Home"/>`);</script>
  
  
</a></div>
        <div class="sidebar-primary-item">

 <script>
 document.write(`
   <button class="btn search-button-field search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass"></i>
    <span class="search-button__default-text">Search</span>
    <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
   </button>
 `);
 </script></div>
        <div class="sidebar-primary-item"><nav class="bd-links bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item navbar-nav active">
        
        <ul class="nav bd-sidenav bd-sidenav__home-link">
            <li class="toctree-l1">
                <a class="reference internal" href="../intro.html">
                    Welcome to pycse - Python Computations in Science and Engineering
                </a>
            </li>
        </ul>
        <p aria-level="2" class="caption" role="heading"><span class="caption-text">The pycse book</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../book/intro.html">The pycse book</a></li>
<li class="toctree-l1"><a class="reference internal" href="../book/00-intro.html">Introduction to Python and Jupyter</a></li>
<li class="toctree-l1"><a class="reference internal" href="../book/01-jupyter.html">More about using Jupyter notebooks</a></li>
<li class="toctree-l1"><a class="reference internal" href="../book/02-integration-1.html">Integration in Python</a></li>
<li class="toctree-l1"><a class="reference internal" href="../book/03-fode-1.html">First-order differential equations</a></li>
<li class="toctree-l1"><a class="reference internal" href="../book/04-fode-2.html">Systems of first-order differential equations</a></li>
<li class="toctree-l1"><a class="reference internal" href="../book/05-nth-odes.html">N<sup>th</sup> order differential equations</a></li>
<li class="toctree-l1"><a class="reference internal" href="../book/07-nla-1.html">Nonlinear algebra</a></li>
<li class="toctree-l1"><a class="reference internal" href="../book/08-nla-2.html">Polynomials in Python</a></li>
<li class="toctree-l1"><a class="reference internal" href="../book/09-bvp.html">Boundary value problems</a></li>
<li class="toctree-l1"><a class="reference internal" href="../book/10-min-max.html">Introduction to optimization</a></li>
<li class="toctree-l1"><a class="reference internal" href="../book/11-regression.html">Nonlinear regression</a></li>
<li class="toctree-l1"><a class="reference internal" href="../book/12-nonlinear-regression-2.html">Uncertainty quantification in nonlinear regression</a></li>
<li class="toctree-l1"><a class="reference internal" href="../book/13-constrained-optimization.html">Constrained optimization</a></li>
<li class="toctree-l1"><a class="reference internal" href="../book/15-intro-linear-algebra.html">Introduction to linear algebra</a></li>
<li class="toctree-l1"><a class="reference internal" href="../book/16-linear-algebra.html">Applications of linear algebra</a></li>
<li class="toctree-l1"><a class="reference internal" href="../book/17-linear-algebra-2.html">Interpolation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../book/18-linear-regression.html">Linear regression</a></li>
<li class="toctree-l1"><a class="reference internal" href="../book/20-autograd-applications.html">Introduction to automatic differentiation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../book/21-machine-learning.html">Introduction to machine learning</a></li>
<li class="toctree-l1"><a class="reference internal" href="../book/22-ml-2.html">Topics in machine learning</a></li>
<li class="toctree-l1"><a class="reference internal" href="../book/23-gp.html">Gaussian Process Regression</a></li>
<li class="toctree-l1"><a class="reference internal" href="../book/conclusions.html">Concluding remarks</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">The pycse blog</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../blog/intro.html">The PYCSE blog</a></li>
<li class="toctree-l1"><a class="reference internal" href="../blog/basic-python.html">Basic python usage</a></li>
<li class="toctree-l1"><a class="reference internal" href="../blog/math.html">Math</a></li>
<li class="toctree-l1"><a class="reference internal" href="../blog/linear-algebra.html">Linear algebra</a></li>
<li class="toctree-l1"><a class="reference internal" href="../blog/nonlinear-algebra.html">Nonlinear algebra</a></li>
<li class="toctree-l1"><a class="reference internal" href="../blog/statistics.html">Statistics</a></li>
<li class="toctree-l1"><a class="reference internal" href="../blog/data-analysis.html">Data analysis</a></li>
<li class="toctree-l1"><a class="reference internal" href="../blog/interpolation.html">Interpolation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../blog/optimization.html">Optimization</a></li>
<li class="toctree-l1"><a class="reference internal" href="../blog/differential-equations.html">Differential equations</a></li>
<li class="toctree-l1"><a class="reference internal" href="../blog/plotting.html">Plotting</a></li>
<li class="toctree-l1"><a class="reference internal" href="../blog/units.html">Units</a></li>
<li class="toctree-l1"><a class="reference internal" href="../blog/programming.html">Programming</a></li>
<li class="toctree-l1"><a class="reference internal" href="../blog/worked-examples.html">Worked examples</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">pycse documentation</span></p>
<ul class="current nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="about.html">About pycse</a></li>

<li class="toctree-l1"><a class="reference internal" href="running-pycse.html">Running pycse</a></li>
<li class="toctree-l1 current active"><a class="current reference internal" href="#">Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="beginner.html">pycse - Beginner mode</a></li>





<li class="toctree-l1"><a class="reference internal" href="utils.html">pycse.utils</a></li>



<li class="toctree-l1"><a class="reference internal" href="execution-statistics.html">Build statistics</a></li>
</ul>

    </div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>
  
  <div id="rtd-footer-container"></div>


      </div>
      
      <main id="main-content" class="bd-main" role="main">
        
        

<div class="sbt-scroll-pixel-helper"></div>

          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article d-print-none">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item"><button class="sidebar-toggle primary-toggle btn btn-sm" title="Toggle primary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
  <span class="fa-solid fa-bars"></span>
</button></div>
      
    </div>
  
  
    <div class="header-article-items__end">
      
        <div class="header-article-item">

<div class="article-header-buttons">





<div class="dropdown dropdown-source-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Source repositories">
    <i class="fab fa-github"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="https://github.com/jkitchin/pycse" target="_blank"
   class="btn btn-sm btn-source-repository-button dropdown-item"
   title="Source repository"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fab fa-github"></i>
  </span>
<span class="btn__text-container">Repository</span>
</a>
</li>
      
      
      
      
      <li><a href="https://github.com/jkitchin/pycse/edit/master/pycse-jb/pycse___python_computations_in_science_and_engineering/docs/pycse.rst" target="_blank"
   class="btn btn-sm btn-source-edit-button dropdown-item"
   title="Suggest edit"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-pencil-alt"></i>
  </span>
<span class="btn__text-container">Suggest edit</span>
</a>
</li>
      
      
      
      
      <li><a href="https://github.com/jkitchin/pycse/issues/new?title=Issue%20on%20page%20%2Fdocs/pycse.html&body=Your%20issue%20content%20here." target="_blank"
   class="btn btn-sm btn-source-issues-button dropdown-item"
   title="Open an issue"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-lightbulb"></i>
  </span>
<span class="btn__text-container">Open issue</span>
</a>
</li>
      
  </ul>
</div>






<div class="dropdown dropdown-download-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Download this page">
    <i class="fas fa-download"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="../_sources/docs/pycse.rst" target="_blank"
   class="btn btn-sm btn-download-source-button dropdown-item"
   title="Download source file"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="btn__text-container">.rst</span>
</a>
</li>
      
      
      
      
      <li>
<button onclick="window.print()"
  class="btn btn-sm btn-download-pdf-button dropdown-item"
  title="Print to PDF"
  data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="btn__text-container">.pdf</span>
</button>
</li>
      
  </ul>
</div>




<button onclick="toggleFullScreen()"
  class="btn btn-sm btn-fullscreen-button"
  title="Fullscreen mode"
  data-bs-placement="bottom" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>



<script>
document.write(`
  <button class="btn btn-sm nav-link pst-navbar-icon theme-switch-button" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="theme-switch fa-solid fa-sun fa-lg" data-mode="light"></i>
    <i class="theme-switch fa-solid fa-moon fa-lg" data-mode="dark"></i>
    <i class="theme-switch fa-solid fa-circle-half-stroke fa-lg" data-mode="auto"></i>
  </button>
`);
</script>


<script>
document.write(`
  <button class="btn btn-sm pst-navbar-icon search-button search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass fa-lg"></i>
  </button>
`);
</script>
<button class="sidebar-toggle secondary-toggle btn btn-sm" title="Toggle secondary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="fa-solid fa-list"></span>
</button>
</div></div>
      
    </div>
  
</div>
</div>
              
              

<div id="jb-print-docs-body" class="onlyprint">
    <h1>Documentation</h1>
    <!-- Table of contents -->
    <div id="print-main-content">
        <div id="jb-print-toc">
            
            <div>
                <h2> Contents </h2>
            </div>
            <nav aria-label="Page">
                <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#module-pycse.PYCSE">PYCSE</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#pycse.PYCSE.Rsquared"><code class="docutils literal notranslate"><span class="pre">Rsquared()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#pycse.PYCSE.bic"><code class="docutils literal notranslate"><span class="pre">bic()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#pycse.PYCSE.ivp"><code class="docutils literal notranslate"><span class="pre">ivp()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#pycse.PYCSE.lbic"><code class="docutils literal notranslate"><span class="pre">lbic()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#pycse.PYCSE.nlinfit"><code class="docutils literal notranslate"><span class="pre">nlinfit()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#pycse.PYCSE.nlpredict"><code class="docutils literal notranslate"><span class="pre">nlpredict()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#pycse.PYCSE.polyfit"><code class="docutils literal notranslate"><span class="pre">polyfit()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#pycse.PYCSE.predict"><code class="docutils literal notranslate"><span class="pre">predict()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#pycse.PYCSE.regress"><code class="docutils literal notranslate"><span class="pre">regress()</span></code></a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#module-pycse.utils">pycse.utils</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#pycse.utils.feq"><code class="docutils literal notranslate"><span class="pre">feq()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#pycse.utils.fge"><code class="docutils literal notranslate"><span class="pre">fge()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#pycse.utils.fgt"><code class="docutils literal notranslate"><span class="pre">fgt()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#pycse.utils.fle"><code class="docutils literal notranslate"><span class="pre">fle()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#pycse.utils.flt"><code class="docutils literal notranslate"><span class="pre">flt()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#pycse.utils.ignore_exception"><code class="docutils literal notranslate"><span class="pre">ignore_exception()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#pycse.utils.read_gsheet"><code class="docutils literal notranslate"><span class="pre">read_gsheet()</span></code></a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#module-pycse.plotly">pycse.plotly</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#pycse.plotly.myshow"><code class="docutils literal notranslate"><span class="pre">myshow()</span></code></a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#module-pycse.hashcache">pycse.hashcache</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#changelog">Changelog</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#pycse.hashcache.HashCache"><code class="docutils literal notranslate"><span class="pre">HashCache</span></code></a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#pycse.hashcache.HashCache.dump"><code class="docutils literal notranslate"><span class="pre">HashCache.dump()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#pycse.hashcache.HashCache.dump_data"><code class="docutils literal notranslate"><span class="pre">HashCache.dump_data()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#pycse.hashcache.HashCache.get_hash"><code class="docutils literal notranslate"><span class="pre">HashCache.get_hash()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#pycse.hashcache.HashCache.get_hashpath"><code class="docutils literal notranslate"><span class="pre">HashCache.get_hashpath()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#pycse.hashcache.HashCache.get_standardized_args"><code class="docutils literal notranslate"><span class="pre">HashCache.get_standardized_args()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#pycse.hashcache.HashCache.load"><code class="docutils literal notranslate"><span class="pre">HashCache.load()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#pycse.hashcache.HashCache.load_data"><code class="docutils literal notranslate"><span class="pre">HashCache.load_data()</span></code></a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#pycse.hashcache.JsonCache"><code class="docutils literal notranslate"><span class="pre">JsonCache</span></code></a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#pycse.hashcache.JsonCache.dump"><code class="docutils literal notranslate"><span class="pre">JsonCache.dump()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#pycse.hashcache.JsonCache.dump_data"><code class="docutils literal notranslate"><span class="pre">JsonCache.dump_data()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#pycse.hashcache.JsonCache.load"><code class="docutils literal notranslate"><span class="pre">JsonCache.load()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#pycse.hashcache.JsonCache.load_data"><code class="docutils literal notranslate"><span class="pre">JsonCache.load_data()</span></code></a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#pycse.hashcache.SqlCache"><code class="docutils literal notranslate"><span class="pre">SqlCache</span></code></a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#pycse.hashcache.SqlCache.dump"><code class="docutils literal notranslate"><span class="pre">SqlCache.dump()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#pycse.hashcache.SqlCache.dump_data"><code class="docutils literal notranslate"><span class="pre">SqlCache.dump_data()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#pycse.hashcache.SqlCache.load"><code class="docutils literal notranslate"><span class="pre">SqlCache.load()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#pycse.hashcache.SqlCache.load_data"><code class="docutils literal notranslate"><span class="pre">SqlCache.load_data()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#pycse.hashcache.SqlCache.search"><code class="docutils literal notranslate"><span class="pre">SqlCache.search()</span></code></a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#pycse.hashcache.hashcache"><code class="docutils literal notranslate"><span class="pre">hashcache()</span></code></a></li>
</ul>
</li>
</ul>
            </nav>
        </div>
    </div>
</div>

              
                
<div id="searchbox"></div>
                <article class="bd-article">
                  
  <section id="documentation">
<h1>Documentation<a class="headerlink" href="#documentation" title="Link to this heading">#</a></h1>
<section id="module-pycse.PYCSE">
<span id="pycse"></span><h2>PYCSE<a class="headerlink" href="#module-pycse.PYCSE" title="Link to this heading">#</a></h2>
<p>Module containing useful scientific and engineering functions.</p>
<ul class="simple">
<li><p>Linear regression</p></li>
<li><p>Nonlinear regression.</p></li>
<li><p>Differential equation solvers.</p></li>
</ul>
<p>See <a class="reference external" href="http://kitchingroup.cheme.cmu.edu/pycse">http://kitchingroup.cheme.cmu.edu/pycse</a></p>
<p>Copyright 2020, John Kitchin
(see accompanying license files for details).</p>
<dl class="py function">
<dt class="sig sig-object py" id="pycse.PYCSE.Rsquared">
<span class="sig-prename descclassname"><span class="pre">pycse.PYCSE.</span></span><span class="sig-name descname"><span class="pre">Rsquared</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">y</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">Y</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pycse.PYCSE.Rsquared" title="Link to this definition">#</a></dt>
<dd><p>Return R^2, or coefficient of determination.</p>
<p>y is a 1d array of observations.
Y is a 1d array of predictions from a model.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt>The R^2 value for the fit.</dt><dd></dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pycse.PYCSE.bic">
<span class="sig-prename descclassname"><span class="pre">pycse.PYCSE.</span></span><span class="sig-name descname"><span class="pre">bic</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">x</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">model</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">popt</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pycse.PYCSE.bic" title="Link to this definition">#</a></dt>
<dd><p>Compute the Bayesian information criterion (BIC).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>model</strong><span class="classifier">function(x, …) returns prediction for y</span></dt><dd></dd>
<dt><strong>popt</strong><span class="classifier">optimal parameters</span></dt><dd></dd>
<dt><strong>y</strong><span class="classifier">array, known y-values</span></dt><dd></dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl class="simple">
<dt><strong>BIC</strong><span class="classifier">float</span></dt><dd></dd>
<dt><a class="reference external" href="https://en.wikipedia.org/wiki/Bayesian_information_criterion#Gaussian_special_case">https://en.wikipedia.org/wiki/Bayesian_information_criterion#Gaussian_special_case</a></dt><dd></dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pycse.PYCSE.ivp">
<span class="sig-prename descclassname"><span class="pre">pycse.PYCSE.</span></span><span class="sig-name descname"><span class="pre">ivp</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">f</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tspan</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y0</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pycse.PYCSE.ivp" title="Link to this definition">#</a></dt>
<dd><p>Solve an ODE initial value problem.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>f</strong><span class="classifier">function</span></dt><dd></dd>
<dt><strong>callable y’(x, y) = f(x, y)</strong></dt><dd></dd>
<dt><strong>tspan</strong><span class="classifier">array</span></dt><dd></dd>
<dt><strong>The x points you want the solution at. The first and last points are used in</strong></dt><dd></dd>
<dt><strong>tspan in solve_ivp.</strong></dt><dd></dd>
<dt><strong>y0</strong><span class="classifier">array</span></dt><dd></dd>
<dt><strong>Initial conditions</strong></dt><dd></dd>
<dt><strong>*args</strong><span class="classifier">type</span></dt><dd></dd>
<dt><strong>arbitrary positional arguments to pass to solve_ivp</strong></dt><dd></dd>
<dt><strong>**kwargs</strong><span class="classifier">type arbitrary kwargs to pass to solve_ivp.</span></dt><dd></dd>
<dt><strong>max_step is set to be the min diff of tspan. dense_output is set to True.</strong></dt><dd></dd>
<dt><strong>t_eval is set to the array specified in tspan.</strong></dt><dd></dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl class="simple">
<dt>solution from solve_ivp</dt><dd></dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pycse.PYCSE.lbic">
<span class="sig-prename descclassname"><span class="pre">pycse.PYCSE.</span></span><span class="sig-name descname"><span class="pre">lbic</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">X</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">popt</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pycse.PYCSE.lbic" title="Link to this definition">#</a></dt>
<dd><p>Compute the Bayesian information criterion for a linear model.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>BIC</strong><span class="classifier">float</span></dt><dd></dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pycse.PYCSE.nlinfit">
<span class="sig-prename descclassname"><span class="pre">pycse.PYCSE.</span></span><span class="sig-name descname"><span class="pre">nlinfit</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">model</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">x</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">p0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">alpha</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.05</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pycse.PYCSE.nlinfit" title="Link to this definition">#</a></dt>
<dd><p>Nonlinear regression with confidence intervals.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>model</strong><span class="classifier">function f(x, p0, p1, …) = y</span></dt><dd></dd>
<dt><strong>x</strong><span class="classifier">array of the independent data</span></dt><dd></dd>
<dt><strong>y</strong><span class="classifier">array of the dependent data</span></dt><dd></dd>
<dt><strong>p0</strong><span class="classifier">array of the initial guess of the parameters</span></dt><dd></dd>
<dt><strong>alpha</strong><span class="classifier">100*(1 - alpha) is the confidence interval</span></dt><dd><p>i.e. alpha = 0.05 is 95% confidence</p>
</dd>
<dt><strong>kwargs are passed to curve_fit.</strong></dt><dd></dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl class="simple">
<dt>[p, pint, SE]</dt><dd><p>p is an array of the fitted parameters
pint is an array of confidence intervals
SE is an array of standard errors for the parameters.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pycse.PYCSE.nlpredict">
<span class="sig-prename descclassname"><span class="pre">pycse.PYCSE.</span></span><span class="sig-name descname"><span class="pre">nlpredict</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">X</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">model</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">loss</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">popt</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">xnew</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">alpha</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.05</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ub</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1e-05</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ef</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1.05</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pycse.PYCSE.nlpredict" title="Link to this definition">#</a></dt>
<dd><p>Prediction error for a nonlinear fit.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>model</strong><span class="classifier">model function with signature model(x, …)</span></dt><dd></dd>
<dt><strong>loss</strong><span class="classifier">loss function the model was fitted with loss(…)</span></dt><dd></dd>
<dt><strong>popt</strong><span class="classifier">the optimized paramters</span></dt><dd></dd>
<dt><strong>xnew</strong><span class="classifier">x-values to predict at</span></dt><dd></dd>
<dt><strong>alpha</strong><span class="classifier">confidence level, 95% = 0.05</span></dt><dd></dd>
<dt><strong>ub</strong><span class="classifier">upper bound for smallest allowed Hessian eigenvalue</span></dt><dd></dd>
<dt><strong>ef</strong><span class="classifier">eigenvalue factor for scaling Hessian</span></dt><dd></dd>
<dt><strong>This function uses numdifftools for the Hessian and Jacobian.</strong></dt><dd></dd>
<dt><strong>See https://en.wikipedia.org/wiki/Prediction_interval#Unknown_mean,_unknown_variance</strong></dt><dd></dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl class="simple">
<dt>y, yint, se</dt><dd></dd>
<dt><strong>y</strong><span class="classifier">predicted values</span></dt><dd></dd>
<dt><strong>yint</strong><span class="classifier">prediction interval at alpha confidence interval</span></dt><dd></dd>
<dt><strong>se</strong><span class="classifier">standard error of prediction</span></dt><dd></dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pycse.PYCSE.polyfit">
<span class="sig-prename descclassname"><span class="pre">pycse.PYCSE.</span></span><span class="sig-name descname"><span class="pre">polyfit</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">x</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">deg</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">alpha</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.05</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pycse.PYCSE.polyfit" title="Link to this definition">#</a></dt>
<dd><p>Least squares polynomial fit with parameter confidence intervals.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>x</strong><span class="classifier">array_like, shape (M,)</span></dt><dd><p>x-coordinates of the M sample points <code class="docutils literal notranslate"><span class="pre">(x[i],</span> <span class="pre">y[i])</span></code>.</p>
</dd>
<dt><strong>y</strong><span class="classifier">array_like, shape (M,) or (M, K)</span></dt><dd><p>y-coordinates of the sample points. Several data sets of sample
points sharing the same x-coordinates can be fitted at once by
passing in a 2D-array that contains one dataset per column.</p>
</dd>
<dt><strong>deg</strong><span class="classifier">int</span></dt><dd><p>Degree of the fitting polynomial</p>
</dd>
<dt><strong>*args and **kwargs are passed to regress.</strong></dt><dd></dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl class="simple">
<dt>[b, bint, se]</dt><dd></dd>
<dt>b is a vector of the fitted parameters</dt><dd></dd>
<dt>bint is a 2D array of confidence intervals</dt><dd></dd>
<dt>se is an array of standard error for each parameter.</dt><dd></dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pycse.PYCSE.predict">
<span class="sig-prename descclassname"><span class="pre">pycse.PYCSE.</span></span><span class="sig-name descname"><span class="pre">predict</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">X</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pars</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">XX</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">alpha</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.05</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ub</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1e-05</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ef</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1.05</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pycse.PYCSE.predict" title="Link to this definition">#</a></dt>
<dd><p>Prediction interval for linear regression.</p>
<p>Based on the delta method.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>X</strong><span class="classifier">known x-value array, one row for each y-point</span></dt><dd></dd>
<dt><strong>y</strong><span class="classifier">known y-value array</span></dt><dd></dd>
<dt><strong>pars</strong><span class="classifier">fitted parameters</span></dt><dd></dd>
<dt><strong>XX</strong><span class="classifier">x-value array to make predictions for</span></dt><dd></dd>
<dt><strong>alpha</strong><span class="classifier">confidence level, 95% = 0.05</span></dt><dd></dd>
<dt><strong>ub</strong><span class="classifier">upper bound for smallest allowed Hessian eigenvalue</span></dt><dd></dd>
<dt><strong>ef</strong><span class="classifier">eigenvalue factor for scaling Hessian</span></dt><dd></dd>
<dt><strong>See See https://en.wikipedia.org/wiki/Prediction_interval#Unknown_mean,_unknown_variance</strong></dt><dd></dd>
<dt><strong>Returns</strong></dt><dd></dd>
<dt><strong>y, yint, pred_se</strong></dt><dd></dd>
<dt><strong>y</strong><span class="classifier">the predicted values</span></dt><dd></dd>
<dt><strong>yint: confidence interval</strong></dt><dd></dd>
<dt><strong>pred_se: std error on predictions.</strong></dt><dd></dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pycse.PYCSE.regress">
<span class="sig-prename descclassname"><span class="pre">pycse.PYCSE.</span></span><span class="sig-name descname"><span class="pre">regress</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">A</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">alpha</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.05</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pycse.PYCSE.regress" title="Link to this definition">#</a></dt>
<dd><p>Linear least squares regression with confidence intervals.</p>
<p>Solve the matrix equation (A p = y) for p.</p>
<p>The confidence intervals account for sample size using a student T
multiplier.</p>
<p>This code is derived from the descriptions at
<a class="reference external" href="http://www.weibull.com/DOEWeb/confidence_intervals_in_multiple_linear_regression.htm">http://www.weibull.com/DOEWeb/confidence_intervals_in_multiple_linear_regression.htm</a>
and
<a class="reference external" href="http://www.weibull.com/DOEWeb/estimating_regression_models_using_least_squares.htm">http://www.weibull.com/DOEWeb/estimating_regression_models_using_least_squares.htm</a></p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>A</strong><span class="classifier">a matrix of function values in columns, e.g.</span></dt><dd><p>A = np.column_stack([T**0, T**1, T**2, T**3, T**4])</p>
</dd>
<dt><strong>y</strong><span class="classifier">a vector of values you want to fit</span></dt><dd></dd>
<dt><strong>alpha</strong><span class="classifier">100*(1 - alpha) confidence level</span></dt><dd></dd>
<dt><strong>args and kwargs are passed to np.linalg.lstsq</strong></dt><dd></dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl class="simple">
<dt>[b, bint, se]</dt><dd></dd>
<dt>b is a vector of the fitted parameters</dt><dd></dd>
<dt>bint is an array of confidence intervals. The ith row is for the ith parameter.</dt><dd></dd>
<dt>se is an array of standard error for each parameter.</dt><dd></dd>
</dl>
</dd>
</dl>
</dd></dl>

</section>
<section id="module-pycse.utils">
<span id="pycse-utils"></span><h2>pycse.utils<a class="headerlink" href="#module-pycse.utils" title="Link to this heading">#</a></h2>
<p>Provides utility functions in pycse.</p>
<ol class="arabic simple">
<li><p>Fuzzy comparisons for float numbers.</p></li>
<li><p>An ignore exception decorator</p></li>
<li><p>A handy function to read a google sheet.</p></li>
</ol>
<dl class="py function">
<dt class="sig sig-object py" id="pycse.utils.feq">
<span class="sig-prename descclassname"><span class="pre">pycse.utils.</span></span><span class="sig-name descname"><span class="pre">feq</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">x</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">epsilon</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">np.float64(2.220446049250313e-16)</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pycse.utils.feq" title="Link to this definition">#</a></dt>
<dd><p>Fuzzy equals.</p>
<p>x == y with tolerance</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pycse.utils.fge">
<span class="sig-prename descclassname"><span class="pre">pycse.utils.</span></span><span class="sig-name descname"><span class="pre">fge</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">x</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">epsilon</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">np.float64(2.220446049250313e-16)</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pycse.utils.fge" title="Link to this definition">#</a></dt>
<dd><p>Fuzzy greater than or equal to .</p>
<p>x &gt;= y with tolerance</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pycse.utils.fgt">
<span class="sig-prename descclassname"><span class="pre">pycse.utils.</span></span><span class="sig-name descname"><span class="pre">fgt</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">x</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">epsilon</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">np.float64(2.220446049250313e-16)</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pycse.utils.fgt" title="Link to this definition">#</a></dt>
<dd><p>Fuzzy greater than.</p>
<p>x &gt; y with tolerance</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pycse.utils.fle">
<span class="sig-prename descclassname"><span class="pre">pycse.utils.</span></span><span class="sig-name descname"><span class="pre">fle</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">x</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">epsilon</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">np.float64(2.220446049250313e-16)</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pycse.utils.fle" title="Link to this definition">#</a></dt>
<dd><p>Fuzzy less than or equal to.</p>
<p>x &lt;= y with tolerance</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pycse.utils.flt">
<span class="sig-prename descclassname"><span class="pre">pycse.utils.</span></span><span class="sig-name descname"><span class="pre">flt</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">x</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">epsilon</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">np.float64(2.220446049250313e-16)</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pycse.utils.flt" title="Link to this definition">#</a></dt>
<dd><p>Fuzzy less than.</p>
<p>x &lt; y with tolerance</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pycse.utils.ignore_exception">
<span class="sig-prename descclassname"><span class="pre">pycse.utils.</span></span><span class="sig-name descname"><span class="pre">ignore_exception</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">exceptions</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pycse.utils.ignore_exception" title="Link to this definition">#</a></dt>
<dd><p>Ignore exceptions on decorated function.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="k">with</span> <span class="n">ignore_exception</span><span class="p">(</span><span class="ne">ZeroDivisionError</span><span class="p">):</span>
<span class="gp">... </span>    <span class="nb">print</span><span class="p">(</span><span class="mi">1</span><span class="o">/</span><span class="mi">0</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pycse.utils.read_gsheet">
<span class="sig-prename descclassname"><span class="pre">pycse.utils.</span></span><span class="sig-name descname"><span class="pre">read_gsheet</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">url</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pycse.utils.read_gsheet" title="Link to this definition">#</a></dt>
<dd><p>Return a dataframe for the Google Sheet at url.</p>
<p>args and kwargs are passed to pd.read_csv
The url should be viewable by anyone with the link.</p>
</dd></dl>

</section>
<section id="module-pycse.plotly">
<span id="pycse-plotly"></span><h2>pycse.plotly<a class="headerlink" href="#module-pycse.plotly" title="Link to this heading">#</a></h2>
<p>Module for using plotly with orgmode.</p>
<p>This monkey-patches go.Figure.show to provide a png image for org-mode, and an
html file that is saved that you can click on in org-mode to see the interactive
version.</p>
<dl class="py function">
<dt class="sig sig-object py" id="pycse.plotly.myshow">
<span class="sig-prename descclassname"><span class="pre">pycse.plotly.</span></span><span class="sig-name descname"><span class="pre">myshow</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pycse.plotly.myshow" title="Link to this definition">#</a></dt>
<dd><p>Make a PNG image to display for plotly.</p>
</dd></dl>

</section>
<section id="module-pycse.hashcache">
<span id="pycse-hashcache"></span><h2>pycse.hashcache<a class="headerlink" href="#module-pycse.hashcache" title="Link to this heading">#</a></h2>
<p>hashcache - a class decorator for persistent, file/hash-based cache</p>
<p>I found some features of joblib were unsuitable for how I want to use a cache.</p>
<p>1. The “file” Python thinks the function is in is used to save the results in
joblib, which leads to repeated runs if you run the same code in Python,
notebook or stdin, and means the cache is not portable to other machines, and
maybe not even in time since temp directories and kernel parameters are
involved. I could not figure out how to change those in joblib.</p>
<p>2. joblib uses the function source code in the hash, so inconsequential changes
like whitespace, docstrings and comments change the hash.</p>
<p>This library aims to provide a simpler version of what I wish joblib did for me.</p>
<p>Results are cached based on a hash of the function name, argnames, bytecode, arg
values and kwarg values. I use joblib.hash for this. This means any two
functions with the same bytecode, even if they have different names, will cache
to the same result.</p>
<p>The cache location is set as a class attribute:</p>
<blockquote>
<div><p>HashCache.cache = ‘./cache’</p>
<p>HashCache - stores joblib.dump pickle strings in files named by hash</p>
<p>SqlCache - stores orjson serialized data in a sqlite3 database by hash key</p>
<p>JsonCache - stores orjson serialized data in json files, compatible with maggma</p>
</div></blockquote>
<p>This is still alpha, proof of concept code. Test it a lot for your use case. The
API is not stable, and subject to change.</p>
<p>Pros:</p>
<p>1. File-based cache which means many functions can run in parallel reading and
writing, and you are limited only by file io speeds, and disk space.</p>
<p>2. semi-portability. The cache could be synced across machines, and caches
can be merged with little risk of conflict.</p>
<ol class="arabic simple" start="3">
<li><p>No server is required. Everything is done at the OS level.</p></li>
</ol>
<p>4. Extendability. You can define your own functions for loading and dumping
data.</p>
<p>Cons:</p>
<p>1. hashes are fragile and not robust. They are fragile with respect to any
changes in how byte-code is made, or via mutable arguments, etc. The hashes are
not robust to system level changes like library versions, or global variables.
The only advantage of hashes is you can compute them.</p>
<p>2. File-based cache which means if you generate thousands of files, it can be
slow to delete them. Although it should be fast to access the results since you
access them directly by path, it will not be fast to iterate over all the
results, e.g. if you want to implement some kind of search or reporting.</p>
<p>3. No server. You have to roll your own update strategy if you run things on
multiple machines that should all cache to a common location.</p>
<section id="changelog">
<h3>Changelog<a class="headerlink" href="#changelog" title="Link to this heading">#</a></h3>
<p>[2023-09-23 Sat] Changed hash signature (breaking change). It is too difficult
to figure out how to capture global state, and the use of internal variable
names is not consistent with using the bytecode to be insensitive to
unimportant variable name changes.</p>
<p>Pulled out some functions for loading and dumping data. This is a precursor to
enabling other backends like lmdb or sqlite instead of files. You can then
simply provide new functions for this.</p>
<p>[2024-06-18 Tue] Changed from function to class decorator (breaking change).</p>
</section>
<dl class="py class">
<dt class="sig sig-object py" id="pycse.hashcache.HashCache">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">pycse.hashcache.</span></span><span class="sig-name descname"><span class="pre">HashCache</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">function</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pycse.hashcache.HashCache" title="Link to this definition">#</a></dt>
<dd><p>Class decorator to cache using hashes and pickle (via joblib).
Data is stored in directories named by the hash.</p>
<p class="rubric">Methods</p>
<div class="pst-scrollable-table-container"><table class="autosummary longtable table autosummary">
<tbody>
<tr class="row-odd"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">__call__</span></code>(*args, **kwargs)</p></td>
<td><p>This is the decorator code that runs around self.function.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#pycse.hashcache.HashCache.dump" title="pycse.hashcache.HashCache.dump"><code class="xref py py-obj docutils literal notranslate"><span class="pre">dump</span></code></a>(**kwargs)</p></td>
<td><p>Dump KWARGS to the cache.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#pycse.hashcache.HashCache.dump_data" title="pycse.hashcache.HashCache.dump_data"><code class="xref py py-obj docutils literal notranslate"><span class="pre">dump_data</span></code></a>(hsh, data)</p></td>
<td><p>Dump DATA into HSH.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#pycse.hashcache.HashCache.get_hash" title="pycse.hashcache.HashCache.get_hash"><code class="xref py py-obj docutils literal notranslate"><span class="pre">get_hash</span></code></a>(args, kwargs)</p></td>
<td><p>Get a hash for running FUNC(ARGS, KWARGS).</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#pycse.hashcache.HashCache.get_hashpath" title="pycse.hashcache.HashCache.get_hashpath"><code class="xref py py-obj docutils literal notranslate"><span class="pre">get_hashpath</span></code></a>(hsh)</p></td>
<td><p>Return path to file for HSH.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#pycse.hashcache.HashCache.get_standardized_args" title="pycse.hashcache.HashCache.get_standardized_args"><code class="xref py py-obj docutils literal notranslate"><span class="pre">get_standardized_args</span></code></a>(args, kwargs)</p></td>
<td><p>Returns a standardized dictionary of kwargs for func(args, kwargs)</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#pycse.hashcache.HashCache.load" title="pycse.hashcache.HashCache.load"><code class="xref py py-obj docutils literal notranslate"><span class="pre">load</span></code></a>(hsh[, cache])</p></td>
<td><p>Load saved variables from HSH.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#pycse.hashcache.HashCache.load_data" title="pycse.hashcache.HashCache.load_data"><code class="xref py py-obj docutils literal notranslate"><span class="pre">load_data</span></code></a>(hsh)</p></td>
<td><p>Load data for HSH.</p></td>
</tr>
</tbody>
</table>
</div>
<dl class="py method">
<dt class="sig sig-object py" id="pycse.hashcache.HashCache.dump">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">dump</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pycse.hashcache.HashCache.dump" title="Link to this definition">#</a></dt>
<dd><p>Dump KWARGS to the cache.
Returns a hash string for future lookup.</p>
<p>cache is a special kwarg that is not saved</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pycse.hashcache.HashCache.dump_data">
<span class="sig-name descname"><span class="pre">dump_data</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">hsh</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">data</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pycse.hashcache.HashCache.dump_data" title="Link to this definition">#</a></dt>
<dd><p>Dump DATA into HSH.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pycse.hashcache.HashCache.get_hash">
<span class="sig-name descname"><span class="pre">get_hash</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pycse.hashcache.HashCache.get_hash" title="Link to this definition">#</a></dt>
<dd><p>Get a hash for running FUNC(ARGS, KWARGS).</p>
<p>This is the most critical feature of hashcache as it provides a key to store
and look up results later. You should think carefully before changing this
function, it breaks past caches.</p>
<p>FUNC should be as pure as reasonable. This hash is insensitive to global
variables.</p>
<p>The hash is on the function name, bytecode, and a standardized kwargs
including defaults. We use bytecode because it is insensitive to things
like whitespace, comments, docstrings, and variable name changes that
don’t affect results. It is assumed that two functions with the same
name and bytecode will evaluate to the same result. However, this makes
the hash fragile to changes in Python version that affect bytecode.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pycse.hashcache.HashCache.get_hashpath">
<span class="sig-name descname"><span class="pre">get_hashpath</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">hsh</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pycse.hashcache.HashCache.get_hashpath" title="Link to this definition">#</a></dt>
<dd><p>Return path to file for HSH.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pycse.hashcache.HashCache.get_standardized_args">
<span class="sig-name descname"><span class="pre">get_standardized_args</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pycse.hashcache.HashCache.get_standardized_args" title="Link to this definition">#</a></dt>
<dd><p>Returns a standardized dictionary of kwargs for func(args, kwargs)</p>
<p>This dictionary includes default values, even if they were not called.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pycse.hashcache.HashCache.load">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">load</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">hsh</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cache</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'cache'</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pycse.hashcache.HashCache.load" title="Link to this definition">#</a></dt>
<dd><p>Load saved variables from HSH.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pycse.hashcache.HashCache.load_data">
<span class="sig-name descname"><span class="pre">load_data</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">hsh</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pycse.hashcache.HashCache.load_data" title="Link to this definition">#</a></dt>
<dd><p>Load data for HSH.</p>
<p>HSH is a string for the hash associated with the data you want.</p>
<p>Returns success, data. If it succeeds, success with be True. If the data
does not exist yet, sucess will be False, and data will be None.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="pycse.hashcache.JsonCache">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">pycse.hashcache.</span></span><span class="sig-name descname"><span class="pre">JsonCache</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">function</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pycse.hashcache.JsonCache" title="Link to this definition">#</a></dt>
<dd><p>Json-based cache.</p>
<p>This is compatible with maggma.</p>
<dl class="field-list simple">
<dt class="field-odd">Attributes<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>default</strong></dt><dd></dd>
</dl>
</dd>
</dl>
<p class="rubric">Methods</p>
<div class="pst-scrollable-table-container"><table class="autosummary longtable table autosummary">
<tbody>
<tr class="row-odd"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">__call__</span></code>(*args, **kwargs)</p></td>
<td><p>This is the decorator code that runs around self.function.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#pycse.hashcache.JsonCache.dump" title="pycse.hashcache.JsonCache.dump"><code class="xref py py-obj docutils literal notranslate"><span class="pre">dump</span></code></a>(**kwargs)</p></td>
<td><p>Dump KWARGS to the cache.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#pycse.hashcache.JsonCache.dump_data" title="pycse.hashcache.JsonCache.dump_data"><code class="xref py py-obj docutils literal notranslate"><span class="pre">dump_data</span></code></a>(hsh, data)</p></td>
<td><p>Dump DATA into HSH.</p></td>
</tr>
<tr class="row-even"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">get_hash</span></code>(args, kwargs)</p></td>
<td><p>Get a hash for running FUNC(ARGS, KWARGS).</p></td>
</tr>
<tr class="row-odd"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">get_hashpath</span></code>(hsh)</p></td>
<td><p>Return path to file for HSH.</p></td>
</tr>
<tr class="row-even"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">get_standardized_args</span></code>(args, kwargs)</p></td>
<td><p>Returns a standardized dictionary of kwargs for func(args, kwargs)</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#pycse.hashcache.JsonCache.load" title="pycse.hashcache.JsonCache.load"><code class="xref py py-obj docutils literal notranslate"><span class="pre">load</span></code></a>(hsh)</p></td>
<td><p>Load data from HSH.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#pycse.hashcache.JsonCache.load_data" title="pycse.hashcache.JsonCache.load_data"><code class="xref py py-obj docutils literal notranslate"><span class="pre">load_data</span></code></a>(hsh)</p></td>
<td><p>Load data for HSH.</p></td>
</tr>
</tbody>
</table>
</div>
<dl class="py method">
<dt class="sig sig-object py" id="pycse.hashcache.JsonCache.dump">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">dump</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pycse.hashcache.JsonCache.dump" title="Link to this definition">#</a></dt>
<dd><p>Dump KWARGS to the cache.
Returns a hash string for future lookup.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pycse.hashcache.JsonCache.dump_data">
<span class="sig-name descname"><span class="pre">dump_data</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">hsh</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">data</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pycse.hashcache.JsonCache.dump_data" title="Link to this definition">#</a></dt>
<dd><p>Dump DATA into HSH.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pycse.hashcache.JsonCache.load">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">load</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">hsh</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pycse.hashcache.JsonCache.load" title="Link to this definition">#</a></dt>
<dd><p>Load data from HSH.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pycse.hashcache.JsonCache.load_data">
<span class="sig-name descname"><span class="pre">load_data</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">hsh</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pycse.hashcache.JsonCache.load_data" title="Link to this definition">#</a></dt>
<dd><p>Load data for HSH.</p>
<p>HSH is a string for the hash associated with the data you want.</p>
<p>Returns success, data. If it succeeds, success with be True. If the data
does not exist yet, sucess will be False, and data will be None.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="pycse.hashcache.SqlCache">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">pycse.hashcache.</span></span><span class="sig-name descname"><span class="pre">SqlCache</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">function</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pycse.hashcache.SqlCache" title="Link to this definition">#</a></dt>
<dd><p>Class decorator to cache using orjson and sqlite.
Data is stored in a sqlite database as json.</p>
<dl class="field-list simple">
<dt class="field-odd">Attributes<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>default</strong></dt><dd></dd>
</dl>
</dd>
</dl>
<p class="rubric">Methods</p>
<div class="pst-scrollable-table-container"><table class="autosummary longtable table autosummary">
<tbody>
<tr class="row-odd"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">__call__</span></code>(*args, **kwargs)</p></td>
<td><p>This is the decorator code that runs around self.function.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#pycse.hashcache.SqlCache.dump" title="pycse.hashcache.SqlCache.dump"><code class="xref py py-obj docutils literal notranslate"><span class="pre">dump</span></code></a>(**kwargs)</p></td>
<td><p>Dump KWARGS to the cache.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#pycse.hashcache.SqlCache.dump_data" title="pycse.hashcache.SqlCache.dump_data"><code class="xref py py-obj docutils literal notranslate"><span class="pre">dump_data</span></code></a>(hsh, data)</p></td>
<td><p>Dump DATA into HSH.</p></td>
</tr>
<tr class="row-even"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">get_hash</span></code>(args, kwargs)</p></td>
<td><p>Get a hash for running FUNC(ARGS, KWARGS).</p></td>
</tr>
<tr class="row-odd"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">get_hashpath</span></code>(hsh)</p></td>
<td><p>Return path to file for HSH.</p></td>
</tr>
<tr class="row-even"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">get_standardized_args</span></code>(args, kwargs)</p></td>
<td><p>Returns a standardized dictionary of kwargs for func(args, kwargs)</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#pycse.hashcache.SqlCache.load" title="pycse.hashcache.SqlCache.load"><code class="xref py py-obj docutils literal notranslate"><span class="pre">load</span></code></a>(hsh)</p></td>
<td><p>Load data from HSH.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#pycse.hashcache.SqlCache.load_data" title="pycse.hashcache.SqlCache.load_data"><code class="xref py py-obj docutils literal notranslate"><span class="pre">load_data</span></code></a>(hsh)</p></td>
<td><p>Load data for HSH.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#pycse.hashcache.SqlCache.search" title="pycse.hashcache.SqlCache.search"><code class="xref py py-obj docutils literal notranslate"><span class="pre">search</span></code></a>(query, *args)</p></td>
<td><p>Run a sql QUERY with args.</p></td>
</tr>
</tbody>
</table>
</div>
<dl class="py method">
<dt class="sig sig-object py" id="pycse.hashcache.SqlCache.dump">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">dump</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pycse.hashcache.SqlCache.dump" title="Link to this definition">#</a></dt>
<dd><p>Dump KWARGS to the cache.
Returns a hash string for future lookup.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pycse.hashcache.SqlCache.dump_data">
<span class="sig-name descname"><span class="pre">dump_data</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">hsh</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">data</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pycse.hashcache.SqlCache.dump_data" title="Link to this definition">#</a></dt>
<dd><p>Dump DATA into HSH.
DATA must be serializable to json.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pycse.hashcache.SqlCache.load">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">load</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">hsh</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pycse.hashcache.SqlCache.load" title="Link to this definition">#</a></dt>
<dd><p>Load data from HSH.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pycse.hashcache.SqlCache.load_data">
<span class="sig-name descname"><span class="pre">load_data</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">hsh</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pycse.hashcache.SqlCache.load_data" title="Link to this definition">#</a></dt>
<dd><p>Load data for HSH.</p>
<p>HSH is a string for the hash associated with the data you want.</p>
<p>Returns success, data. If it succeeds, success with be True. If the data
does not exist yet, sucess will be False, and data will be None.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pycse.hashcache.SqlCache.search">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">search</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">query</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pycse.hashcache.SqlCache.search" title="Link to this definition">#</a></dt>
<dd><p>Run a sql QUERY with args.
args are substituted in ? placeholders in the query.</p>
<p>This is just a light wrapper on con.execute.</p>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pycse.hashcache.hashcache">
<span class="sig-prename descclassname"><span class="pre">pycse.hashcache.</span></span><span class="sig-name descname"><span class="pre">hashcache</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pycse.hashcache.hashcache" title="Link to this definition">#</a></dt>
<dd><p>Raises an exception if the old hashcache decorator is used.</p>
</dd></dl>

</section>
</section>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            name: "python3",
            path: "./docs"
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

                </article>
              

              
              
              
              
                <footer class="prev-next-footer d-print-none">
                  
<div class="prev-next-area">
    <a class="left-prev"
       href="running-pycse.html"
       title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
        <p class="prev-next-subtitle">previous</p>
        <p class="prev-next-title">Running pycse</p>
      </div>
    </a>
    <a class="right-next"
       href="beginner.html"
       title="next page">
      <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">pycse - Beginner mode</p>
      </div>
      <i class="fa-solid fa-angle-right"></i>
    </a>
</div>
                </footer>
              
            </div>
            
            
              
                <div class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">


  <div class="sidebar-secondary-item">
  <div class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> Contents
  </div>
  <nav class="bd-toc-nav page-toc">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#module-pycse.PYCSE">PYCSE</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#pycse.PYCSE.Rsquared"><code class="docutils literal notranslate"><span class="pre">Rsquared()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#pycse.PYCSE.bic"><code class="docutils literal notranslate"><span class="pre">bic()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#pycse.PYCSE.ivp"><code class="docutils literal notranslate"><span class="pre">ivp()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#pycse.PYCSE.lbic"><code class="docutils literal notranslate"><span class="pre">lbic()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#pycse.PYCSE.nlinfit"><code class="docutils literal notranslate"><span class="pre">nlinfit()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#pycse.PYCSE.nlpredict"><code class="docutils literal notranslate"><span class="pre">nlpredict()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#pycse.PYCSE.polyfit"><code class="docutils literal notranslate"><span class="pre">polyfit()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#pycse.PYCSE.predict"><code class="docutils literal notranslate"><span class="pre">predict()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#pycse.PYCSE.regress"><code class="docutils literal notranslate"><span class="pre">regress()</span></code></a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#module-pycse.utils">pycse.utils</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#pycse.utils.feq"><code class="docutils literal notranslate"><span class="pre">feq()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#pycse.utils.fge"><code class="docutils literal notranslate"><span class="pre">fge()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#pycse.utils.fgt"><code class="docutils literal notranslate"><span class="pre">fgt()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#pycse.utils.fle"><code class="docutils literal notranslate"><span class="pre">fle()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#pycse.utils.flt"><code class="docutils literal notranslate"><span class="pre">flt()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#pycse.utils.ignore_exception"><code class="docutils literal notranslate"><span class="pre">ignore_exception()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#pycse.utils.read_gsheet"><code class="docutils literal notranslate"><span class="pre">read_gsheet()</span></code></a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#module-pycse.plotly">pycse.plotly</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#pycse.plotly.myshow"><code class="docutils literal notranslate"><span class="pre">myshow()</span></code></a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#module-pycse.hashcache">pycse.hashcache</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#changelog">Changelog</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#pycse.hashcache.HashCache"><code class="docutils literal notranslate"><span class="pre">HashCache</span></code></a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#pycse.hashcache.HashCache.dump"><code class="docutils literal notranslate"><span class="pre">HashCache.dump()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#pycse.hashcache.HashCache.dump_data"><code class="docutils literal notranslate"><span class="pre">HashCache.dump_data()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#pycse.hashcache.HashCache.get_hash"><code class="docutils literal notranslate"><span class="pre">HashCache.get_hash()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#pycse.hashcache.HashCache.get_hashpath"><code class="docutils literal notranslate"><span class="pre">HashCache.get_hashpath()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#pycse.hashcache.HashCache.get_standardized_args"><code class="docutils literal notranslate"><span class="pre">HashCache.get_standardized_args()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#pycse.hashcache.HashCache.load"><code class="docutils literal notranslate"><span class="pre">HashCache.load()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#pycse.hashcache.HashCache.load_data"><code class="docutils literal notranslate"><span class="pre">HashCache.load_data()</span></code></a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#pycse.hashcache.JsonCache"><code class="docutils literal notranslate"><span class="pre">JsonCache</span></code></a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#pycse.hashcache.JsonCache.dump"><code class="docutils literal notranslate"><span class="pre">JsonCache.dump()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#pycse.hashcache.JsonCache.dump_data"><code class="docutils literal notranslate"><span class="pre">JsonCache.dump_data()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#pycse.hashcache.JsonCache.load"><code class="docutils literal notranslate"><span class="pre">JsonCache.load()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#pycse.hashcache.JsonCache.load_data"><code class="docutils literal notranslate"><span class="pre">JsonCache.load_data()</span></code></a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#pycse.hashcache.SqlCache"><code class="docutils literal notranslate"><span class="pre">SqlCache</span></code></a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#pycse.hashcache.SqlCache.dump"><code class="docutils literal notranslate"><span class="pre">SqlCache.dump()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#pycse.hashcache.SqlCache.dump_data"><code class="docutils literal notranslate"><span class="pre">SqlCache.dump_data()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#pycse.hashcache.SqlCache.load"><code class="docutils literal notranslate"><span class="pre">SqlCache.load()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#pycse.hashcache.SqlCache.load_data"><code class="docutils literal notranslate"><span class="pre">SqlCache.load_data()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#pycse.hashcache.SqlCache.search"><code class="docutils literal notranslate"><span class="pre">SqlCache.search()</span></code></a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#pycse.hashcache.hashcache"><code class="docutils literal notranslate"><span class="pre">hashcache()</span></code></a></li>
</ul>
</li>
</ul>
  </nav></div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
<div class="bd-footer-content__inner container">
  
  <div class="footer-item">
    
<p class="component-author">
By John Kitchin
</p>

  </div>
  
  <div class="footer-item">
    

  <p class="copyright">
    
      © Copyright 2023.
      <br/>
    
  </p>

  </div>
  
  <div class="footer-item">
    
  </div>
  
  <div class="footer-item">
    
<div class="extra_footer">
  <!-- RAG Chat Widget - Self-contained version for Jupyter Book -->
<style>
/* RAG Widget Styles */
:root {
    --widget-primary-color: #1f77b4;
    --widget-primary-hover: #1565a8;
    --widget-bg-color: #ffffff;
    --widget-text-color: #262730;
    --widget-border-color: #e0e0e0;
    --widget-shadow: 0 8px 24px rgba(0, 0, 0, 0.15);
    --widget-shadow-lg: 0 12px 32px rgba(0, 0, 0, 0.2);
    --widget-border-radius: 16px;
    --widget-button-size: 60px;
    --widget-z-index: 9999;
}

.rag-widget {
    position: fixed;
    z-index: var(--widget-z-index);
    font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Helvetica', 'Arial', sans-serif;
    bottom: 20px;
    right: 20px;
}

.widget-button {
    width: var(--widget-button-size);
    height: var(--widget-button-size);
    border-radius: 50%;
    background-color: var(--widget-primary-color);
    border: none;
    box-shadow: var(--widget-shadow);
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    position: relative;
    overflow: hidden;
}

.widget-button:hover {
    background-color: var(--widget-primary-hover);
    box-shadow: var(--widget-shadow-lg);
    transform: scale(1.05);
}

.widget-button:active {
    transform: scale(0.95);
}

.widget-icon,
.widget-close-icon {
    width: 28px;
    height: 28px;
    color: white;
    transition: all 0.3s ease;
    position: absolute;
}

.widget-close-icon {
    opacity: 0;
    transform: rotate(90deg) scale(0);
}

.widget-button.active .widget-icon {
    opacity: 0;
    transform: rotate(-90deg) scale(0);
}

.widget-button.active .widget-close-icon {
    opacity: 1;
    transform: rotate(0deg) scale(1);
}

.widget-container {
    position: fixed;
    bottom: 90px;
    right: 20px;
    width: min(50vw, calc(100vw - 40px));
    height: min(600px, calc(100vh - 120px));
    max-width: calc(100vw - 40px);
    max-height: calc(100vh - 120px);
    background-color: var(--widget-bg-color);
    border-radius: var(--widget-border-radius);
    box-shadow: var(--widget-shadow-lg);
    display: flex;
    flex-direction: column;
    overflow: hidden;
    opacity: 0;
    transform: scale(0.9) translateY(10px);
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    pointer-events: none;
}

.widget-container.visible {
    opacity: 1;
    transform: scale(1) translateY(0);
    pointer-events: all;
}

.widget-container.hidden {
    display: none;
}

.widget-header {
    background-color: var(--widget-primary-color);
    color: white;
    padding: 16px 20px;
    display: flex;
    align-items: center;
    justify-content: space-between;
    flex-shrink: 0;
}

.widget-header-content {
    flex: 1;
}

.widget-title {
    margin: 0;
    font-size: 18px;
    font-weight: 600;
    line-height: 1.2;
}

.widget-subtitle {
    margin: 4px 0 0 0;
    font-size: 13px;
    opacity: 0.9;
    line-height: 1.2;
}

.widget-minimize-btn {
    background: none;
    border: none;
    color: white;
    cursor: pointer;
    padding: 8px;
    display: flex;
    align-items: center;
    justify-content: center;
    border-radius: 8px;
    transition: background-color 0.2s ease;
}

.widget-minimize-btn:hover {
    background-color: rgba(255, 255, 255, 0.1);
}

.widget-minimize-btn svg {
    width: 20px;
    height: 20px;
}

.widget-iframe-container {
    flex: 1;
    position: relative;
    overflow: hidden;
    background-color: #f5f5f5;
}

#widget-iframe {
    width: 100%;
    height: 100%;
    border: none;
}

.widget-footer {
    padding: 12px 20px;
    background-color: var(--widget-bg-color);
    border-top: 1px solid var(--widget-border-color);
    text-align: center;
    flex-shrink: 0;
}

.widget-powered-by {
    font-size: 12px;
    color: #666;
}

.widget-powered-by a {
    color: var(--widget-primary-color);
    text-decoration: none;
    font-weight: 500;
}

.widget-powered-by a:hover {
    text-decoration: underline;
}

@media (max-width: 768px) {
    .widget-container {
        width: 100%;
        height: 100%;
        max-width: 100%;
        max-height: 100%;
        bottom: 0;
        right: 0;
        left: 0;
        top: 0;
        border-radius: 0;
    }

    .widget-button {
        width: 56px;
        height: 56px;
    }

    .widget-icon,
    .widget-close-icon {
        width: 24px;
        height: 24px;
    }
}

@media (max-width: 480px) {
    .rag-widget {
        bottom: 16px;
        right: 16px;
    }
}

.widget-iframe-container::before {
    content: '';
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    width: 40px;
    height: 40px;
    border: 3px solid #f3f3f3;
    border-top: 3px solid var(--widget-primary-color);
    border-radius: 50%;
    animation: widget-spin 1s linear infinite;
    opacity: 0;
    transition: opacity 0.3s ease;
}

.widget-iframe-container.loading::before {
    opacity: 1;
}

@keyframes widget-spin {
    0% { transform: translate(-50%, -50%) rotate(0deg); }
    100% { transform: translate(-50%, -50%) rotate(360deg); }
}

@media (prefers-color-scheme: dark) {
    :root {
        --widget-bg-color: #1e1e1e;
        --widget-text-color: #ffffff;
        --widget-border-color: #333333;
    }

    .widget-iframe-container {
        background-color: #252525;
    }
}

.widget-button:focus,
.widget-minimize-btn:focus {
    outline: 2px solid var(--widget-primary-color);
    outline-offset: 2px;
}

@media print {
    .rag-widget {
        display: none !important;
    }
}
</style>

<div id="rag-widget" class="rag-widget">
    <!-- Floating Button -->
    <button id="widget-button" class="widget-button" aria-label="Open chat">
        <svg class="widget-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor">
            <path d="M20 2H4c-1.1 0-2 .9-2 2v18l4-4h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm0 14H6l-2 2V4h16v12z"/>
            <path d="M7 9h2v2H7zm4 0h2v2h-2zm4 0h2v2h-2z"/>
        </svg>
        <svg class="widget-close-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor">
            <path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/>
        </svg>
    </button>

    <!-- Chat Container -->
    <div id="widget-container" class="widget-container hidden">
        <!-- Header -->
        <div class="widget-header">
            <div class="widget-header-content">
                <h3 class="widget-title">Secret A(i)gent</h3>
                <p class="widget-subtitle">Ask me anything</p>
            </div>
            <button id="widget-minimize" class="widget-minimize-btn" aria-label="Minimize chat">
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor">
                    <path d="M19 13H5v-2h14v2z"/>
                </svg>
            </button>
        </div>

        <!-- Chat iframe -->
        <div class="widget-iframe-container">
            <iframe
                id="widget-iframe"
                src=""
                frameborder="0"
                allow="clipboard-write"
                title="RAG Chat Assistant">
            </iframe>
        </div>

        <!-- Footer -->
        <div class="widget-footer">
            <span class="widget-powered-by">
                Powered by <a href="https://github.com/jkitchin/streamlit-rag-widget" target="_blank">a Secret A(i)gent</a>
            </span>
        </div>
    </div>
</div>

<script>
/**
 * RAG Widget Configuration and Script
 */
(function() {
    'use strict';

    // Configuration
    const config = {
        streamlitUrl: 'https://kitchin-services.cheme.cmu.edu',
        position: 'bottom-right',
        width: '50vw',
        height: '600px',
        primaryColor: '#1f77b4',
        title: 'Secret A(i)gent',
        subtitle: 'Ask me anything',
        showPoweredBy: true,
        autoOpen: false,
        openDelay: 0,
        zIndex: 9999,
    };

    // Widget state
    let isOpen = false;

    // Get DOM elements
    const widget = document.getElementById('rag-widget');
    const button = document.getElementById('widget-button');
    const container = document.getElementById('widget-container');
    const iframe = document.getElementById('widget-iframe');
    const minimizeBtn = document.getElementById('widget-minimize');
    const iframeContainer = document.querySelector('.widget-iframe-container');

    if (!widget || !button || !container || !iframe) {
        console.error('RAG Widget: Required elements not found');
        return;
    }

    /**
     * Initialize widget
     */
    function init() {
        // Set iframe URL
        iframe.src = config.streamlitUrl;

        // Set custom colors
        if (config.primaryColor) {
            document.documentElement.style.setProperty('--widget-primary-color', config.primaryColor);
        }

        // Set title and subtitle
        const title = document.querySelector('.widget-title');
        const subtitle = document.querySelector('.widget-subtitle');
        if (title && config.title) {
            title.textContent = config.title;
        }
        if (subtitle && config.subtitle) {
            subtitle.textContent = config.subtitle;
        }

        // Hide powered by if configured
        if (!config.showPoweredBy) {
            const footer = document.querySelector('.widget-footer');
            if (footer) {
                footer.style.display = 'none';
            }
        }

        // Add event listeners
        button.addEventListener('click', toggleWidget);
        minimizeBtn.addEventListener('click', closeWidget);

        // Handle keyboard shortcuts
        document.addEventListener('keydown', function(event) {
            if (event.key === 'Escape' && isOpen) {
                closeWidget();
            }
        });

        // Auto-open if configured
        if (config.autoOpen) {
            setTimeout(openWidget, config.openDelay);
        }

        console.log('RAG Widget initialized');
    }

    /**
     * Toggle widget open/closed
     */
    function toggleWidget() {
        if (isOpen) {
            closeWidget();
        } else {
            openWidget();
        }
    }

    /**
     * Open widget
     */
    function openWidget() {
        isOpen = true;
        button.classList.add('active');
        container.classList.remove('hidden');

        setTimeout(function() {
            container.classList.add('visible');
        }, 10);

        setTimeout(function() {
            iframe.focus();
        }, 300);
    }

    /**
     * Close widget
     */
    function closeWidget() {
        isOpen = false;
        button.classList.remove('active');
        container.classList.remove('visible');

        setTimeout(function() {
            container.classList.add('hidden');
        }, 300);
    }

    /**
     * Public API
     */
    window.RAGWidget = {
        open: openWidget,
        close: closeWidget,
        toggle: toggleWidget,
        isOpen: function() { return isOpen; }
    };

    // Initialize when DOM is ready
    if (document.readyState === 'loading') {
        document.addEventListener('DOMContentLoaded', init);
    } else {
        init();
    }

})();
</script>

</div>
  </div>
  
</div>
          </footer>
        

      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="../_static/scripts/bootstrap.js?digest=dfe6caa3a7d634c4db9b"></script>
<script src="../_static/scripts/pydata-sphinx-theme.js?digest=dfe6caa3a7d634c4db9b"></script>

  <footer class="bd-footer">
  </footer>
  </body>
</html>